arch:
- aarch64
- amd64
boot: auto
description: Solar plant automation based on electricity spot prices
hassio_api: true
hassio_role: default
homeassistant_api: true
host_network: false
image: "ghcr.io/solare-cz/fluxion-{arch}"
ingress: true
ingress_port: 8099
init: false
labels:
  org.opencontainers.image.description: Solar plant automation based on electricity
    spot prices
  org.opencontainers.image.licenses: CC-BY-NC-ND-4.0
  org.opencontainers.image.source: https://github.com/SolarE-cz/fluxion-nightly
  org.opencontainers.image.title: FluxION ECS
name: FluxION ECS
options:
  control:
    average_household_load_kw: 0.5
    battery_capacity_kwh: 23.0
    force_charge_hours: 4
    force_discharge_hours: 2
    max_battery_charge_rate_kw: 5.0
    max_battery_soc: 100
    min_battery_soc: 10
  inverters:
  - entity_prefix: solax
    id: solax
    topology: independent
    vendor: solax
  pricing:
    fixed_buy_prices: []
    fixed_sell_prices: []
    spot_price_entity: sensor.current_spot_electricity_price_15min
    use_spot_prices_to_buy: true
    use_spot_prices_to_sell: true
  strategies:
    day_ahead_planning:
      enabled: false
    morning_precharge:
      enabled: false
    price_arbitrage:
      enabled: false
    self_use:
      enabled: true
    solar_aware_charging:
      enabled: false
      midday_max_soc: 90.0
      min_solar_forecast_kwh: 2.0
      solar_window_end_hour: 14
      solar_window_start_hour: 10
    solar_first:
      enabled: false
    time_aware_charge:
      enabled: false
    winter_adaptive:
      charge_on_negative_even_if_full: false
      ema_period_days: 7
      enabled: false
      export_trigger_multiplier: 2.5
      grid_export_price_threshold: 8.0
      min_soc_for_export: 50.0
      min_solar_percentage: 0.1
      negative_price_handling_enabled: true
      target_battery_soc: 90.0
      tomorrow_preservation_threshold: 1.2
      top_expensive_blocks: 12
    winter_adaptive_v2:
      charge_on_negative_even_if_full: false
      ema_period_days: 7
      enabled: true
      export_trigger_multiplier: 2.5
      grid_export_price_threshold: 8.0
      min_soc_for_export: 50.0
      min_solar_percentage: 0.1
      negative_price_handling_enabled: true
      target_battery_soc: 90.0
      tomorrow_preservation_threshold: 1.2
      top_expensive_blocks: 12
    winter_peak_discharge:
      enabled: false
      min_hours_to_solar: 4
      min_soc_target: 50.0
      min_soc_to_start: 70.0
      min_spread_czk: 3.0
      solar_window_end_hour: 14
      solar_window_start_hour: 10
  system:
    debug_mode: true
    log_level: info
    update_interval_secs: 60
panel_icon: mdi:solar-power
schema:
  control:
    average_household_load_kw: float(0,)?
    battery_capacity_kwh: float(0,)?
    force_charge_hours: int(0,24)?
    force_discharge_hours: int(0,24)?
    max_battery_charge_rate_kw: float(0,)?
    max_battery_soc: float(0,100)?
    maximum_export_power_w: int(0,)
    min_battery_soc: float(0,100)?
  inverters:
  - entity_prefix: str
    id: str
    master_id: str?
    slave_ids:
    - str?
    topology: list(independent|master|slave)?
    vendor: list(solax|solax-ultra)?
  pricing:
    fixed_buy_prices:
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    fixed_sell_prices:
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    - float?
    spot_price_entity: str?
    use_spot_prices_to_buy: bool?
    use_spot_prices_to_sell: bool?
  strategies:
    day_ahead_planning:
      enabled: bool?
    morning_precharge:
      enabled: bool?
    price_arbitrage:
      enabled: bool?
    self_use:
      enabled: bool?
    solar_aware_charging:
      enabled: bool?
      midday_max_soc: float(0,100)?
      min_solar_forecast_kwh: float?
      solar_window_end_hour: int(0,23)?
      solar_window_start_hour: int(0,23)?
    solar_first:
      enabled: bool?
    time_aware_charge:
      enabled: bool?
    winter_adaptive:
      charge_on_negative_even_if_full: bool?
      ema_period_days: int(1,30)?
      enabled: bool?
      export_trigger_multiplier: float?
      grid_export_price_threshold: float?
      min_soc_for_export: float(0,100)?
      min_solar_percentage: float(0,1)?
      negative_price_handling_enabled: bool?
      target_battery_soc: float(0,100)?
      tomorrow_preservation_threshold: float?
      top_expensive_blocks: int(0,96)?
    winter_adaptive_v2:
      charge_on_negative_even_if_full: bool?
      ema_period_days: int(1,30)?
      enabled: bool?
      export_trigger_multiplier: float?
      grid_export_price_threshold: float?
      min_soc_for_export: float(0,100)?
      min_solar_percentage: float(0,1)?
      negative_price_handling_enabled: bool?
      target_battery_soc: float(0,100)?
      tomorrow_preservation_threshold: float?
      top_expensive_blocks: int(0,96)?
    winter_peak_discharge:
      enabled: bool?
      min_hours_to_solar: int(0,24)?
      min_soc_target: float(0,100)?
      min_soc_to_start: float(0,100)?
      min_spread_czk: float?
      solar_window_end_hour: int(0,23)?
      solar_window_start_hour: int(0,23)?
  system:
    debug_mode: bool?
    log_level: list(trace|debug|info|warning|error)?
    update_interval_secs: int(10,3600)?
slug: fluxion
startup: application
url: "https://github.com/SolarE-cz/fluxion-nightly"
version: "0.2.24"
